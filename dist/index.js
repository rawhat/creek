parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"osVr":[function(require,module,exports) {
"use strict";function e(e,r){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=a(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,u=function(){};return{s:u,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,o=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return i=e.done,e},e:function(e){o=!0,s=e},f:function(){try{i||null==t.return||t.return()}finally{if(o)throw s}}}}function r(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function t(e){return s(e)||u(e)||a(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,r){if(e){if("string"==typeof e)return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,r):void 0}}function u(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e){if(Array.isArray(e))return i(e)}function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function c(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,r,t){return r&&c(e.prototype,r),t&&c(e,t),e}var p=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))(function(a,u){function s(e){try{o(n.next(e))}catch(r){u(r)}}function i(e){try{o(n.throw(e))}catch(r){u(r)}}function o(e){var r;e.done?a(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(s,i)}o((n=n.apply(e,r||[])).next())})},v=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise(function(n,a){(function(e,r,t,n){Promise.resolve(n).then(function(r){e({value:r,done:t})},r)})(n,a,(r=e[t](r)).done,r.value)})}}},l=this&&this.__await||function(e){return this instanceof l?(this.v=e,this):new l(e)},h=this&&this.__asyncGenerator||function(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=t.apply(e,r||[]),u=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){a[e]&&(n[e]=function(r){return new Promise(function(t,n){u.push([e,r,t,n])>1||i(e,r)})})}function i(e,r){try{(t=a[e](r)).value instanceof l?Promise.resolve(t.value.v).then(o,c):f(u[0][2],t)}catch(n){f(u[0][3],n)}var t}function o(e){i("next",e)}function c(e){i("throw",e)}function f(e,r){e(r),u.shift(),u.length&&i(u[0][0],u[0][1])}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncStream=void 0;var b=require("./index"),x=function(){function n(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];o(this,n),this.transforms=[],this.generator=e,this.transforms=r}return f(n,[{key:"getGenerator",value:function(){return this.generator()}},{key:"transform",value:function(e,r){var t=this,a=e;return new n(this.generator,this.transforms.concat(function(e){return p(t,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("skip"!==e.type){t.next=2;break}return t.abrupt("return",e);case 2:return t.t0=r,t.next=5,e.value;case 5:return t.t1=t.sent,t.t2=a,t.next=9,(0,t.t0)(t.t1,t.t2);case 9:if(n=t.sent){t.next=12;break}return t.abrupt("return",{type:"halt"});case 12:return a=n[1],t.abrupt("return",{type:"value",value:n[0]});case 14:case"end":return t.stop()}},t)}))}))}},{key:"map",value:function(e){var r=this;return new n(this.generator,this.transforms.concat(function(t){return p(r,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("skip"!==t.type){r.next=2;break}return r.abrupt("return",t);case 2:return r.t0=e,r.next=5,t.value;case 5:return r.t1=r.sent,r.t2=(0,r.t0)(r.t1),r.abrupt("return",{type:"value",value:r.t2});case 8:case"end":return r.stop()}},r)}))}))}},{key:"filter",value:function(e){var r=this;return new n(this.generator,this.transforms.concat(function(t){return p(r,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("skip"!==t.type){r.next=2;break}return r.abrupt("return",t);case 2:return r.t0=e,r.next=5,t.value;case 5:return r.t1=r.sent,r.next=8,(0,r.t0)(r.t1);case 8:if(r.sent){r.next=10;break}return r.abrupt("return",{type:"skip"});case 10:return r.abrupt("return",t);case 11:case"end":return r.stop()}},r)}))}))}},{key:"flatMap",value:function(e){var r=this;return new n(this.generator,this.transforms.concat(function(t){return p(r,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("skip"!==t.type){r.next=2;break}return r.abrupt("return",t);case 2:return r.t0=e,r.next=5,t.value;case 5:return r.t1=r.sent,r.t2=(0,r.t0)(r.t1),r.abrupt("return",{type:"flatten",value:r.t2});case 8:case"end":return r.stop()}},r)}))}))}},{key:"take",value:function(e){var r=this,t=0;return new n(this.generator,this.transforms.concat(function(n){return p(r,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("skip"!==n.type){r.next=2;break}return r.abrupt("return",n);case 2:if(t!==e){r.next=4;break}return r.abrupt("return",{type:"halt"});case 4:return t++,r.abrupt("return",{type:"value",value:n.value});case 6:case"end":return r.stop()}},r)}))}))}},{key:"takeUntil",value:function(e){var r=this;return new n(this.generator,this.transforms.concat(function(t){return p(r,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("skip"!==t.type){r.next=2;break}return r.abrupt("return",t);case 2:return r.t0=e,r.next=5,t.value;case 5:return r.t1=r.sent,r.next=8,(0,r.t0)(r.t1);case 8:if(!r.sent){r.next=10;break}return r.abrupt("return",{type:"halt"});case 10:return r.abrupt("return",t);case 11:case"end":return r.stop()}},r)}))}))}},{key:"drop",value:function(e){var r=this,t=0;return new n(this.generator,this.transforms.concat(function(n){return p(r,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("skip"!==n.type){r.next=2;break}return r.abrupt("return",n);case 2:if(!("value"===n.type&&t<e)){r.next=5;break}return t++,r.abrupt("return",{type:"skip"});case 5:return r.abrupt("return",n);case 6:case"end":return r.stop()}},r)}))}))}},{key:"flatten",value:function(){var e=this;return new n(this.generator,this.transforms.concat(function(r){return p(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("skip"!==r.type){e.next=2;break}return e.abrupt("return",r);case 2:return e.abrupt("return",{type:"flatten",value:r.value});case 3:case"end":return e.stop()}},e)}))}))}},{key:"tap",value:function(e){var r=this;return new n(this.generator,this.transforms.concat(function(t){return p(r,void 0,void 0,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("value"!==t.type){r.next=6;break}return r.t0=e,r.next=4,t.value;case 4:r.t1=r.sent,(0,r.t0)(r.t1);case 6:return r.abrupt("return",t);case 7:case"end":return r.stop()}},r)}))}))}},{key:"concat",value:function(e){var r=this;return new n(function(){return h(this,arguments,regeneratorRuntime.mark(function t(){var n,a,u,s,i,o,c,f,p,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,i=v(r);case 2:return t.next=4,l(i.next());case 4:if((o=t.sent).done){t.next=13;break}return c=o.value,t.next=9,l(c);case 9:return t.next=11,t.sent;case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),n={error:t.t0};case 18:if(t.prev=18,t.prev=19,!o||o.done||!(a=i.return)){t.next=23;break}return t.next=23,l(a.call(i));case 23:if(t.prev=23,!n){t.next=26;break}throw n.error;case 26:return t.finish(23);case 27:return t.finish(18);case 28:t.prev=28,f=v(e);case 30:return t.next=32,l(f.next());case 32:if((p=t.sent).done){t.next=41;break}return h=p.value,t.next=37,l(h);case 37:return t.next=39,t.sent;case 39:t.next=30;break;case 41:t.next=46;break;case 43:t.prev=43,t.t1=t.catch(28),u={error:t.t1};case 46:if(t.prev=46,t.prev=47,!p||p.done||!(s=f.return)){t.next=51;break}return t.next=51,l(s.call(f));case 51:if(t.prev=51,!u){t.next=54;break}throw u.error;case 54:return t.finish(51);case 55:return t.finish(46);case 56:case"end":return t.stop()}},t,null,[[0,15,18,28],[19,,23,27],[28,43,46,56],[47,,51,55]])}))})}},{key:"withIndex",value:function(){var e=this,r=0;return new n(this.generator,this.transforms.concat(function(t){return p(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("skip"!==t.type){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,t.value;case 4:return e.t0=e.sent,e.t1=r++,e.t2=[e.t0,e.t1],e.abrupt("return",{type:"value",value:e.t2});case 8:case"end":return e.stop()}},e)}))}))}},{key:"combine",value:function(){for(var e=this,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];var s=[this[Symbol.asyncIterator]()].concat(t(a.map(function(e){return e[Symbol.asyncIterator]()}))),i=s.map(function(r,t){return p(e,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.next();case 2:return n=e.sent,e.abrupt("return",{index:t,generator:t,retVal:n});case 4:case"end":return e.stop()}},e)}))}),o={generators:s,queue:i.reduce(function(e,t,n){return Object.assign(Object.assign({},e),r({},n,t))},{})};return b.unfoldAsync(o,function(r){var n=r.generators,a=r.queue;return p(e,void 0,void 0,regeneratorRuntime.mark(function e(){var r,u,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length||0!==Object.keys(a).length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Promise.race(Object.values(a));case 4:if(r=e.sent,delete a[r.index],!r.retVal.done){e.next=16;break}if(n.splice(r.generator,1),0!==n.length||0!==Object.keys(a).length){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,Promise.race(Object.values(a));case 12:if(r=e.sent,delete a[r.index],!r.retVal.done){e.next=16;break}return e.abrupt("return");case 16:return u=Math.max.apply(Math,t(Object.keys(a).map(function(e){return parseInt(e)})))+1,s=n[r.generator].next().then(function(e){return{index:u,generator:r.generator,retVal:e}}),a[u]=s,e.abrupt("return",[r.retVal.value,{generators:n,queue:a}]);case 20:case"end":return e.stop()}},e)}))})}},{key:"toArray",value:function(){var e,r;return p(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a,u,s,i,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=[],n.prev=1,u=v(this.generator());case 3:return n.next=5,u.next();case 5:if((s=n.sent).done){n.next=45;break}return i=s.value,n.next=10,this.applyTransforms(i);case 10:if("value"!==(o=n.sent).type){n.next=19;break}return n.t0=a,n.next=15,o.value;case 15:n.t1=n.sent,n.t0.push.call(n.t0,n.t1),n.next=43;break;case 19:if("flatten"!==o.type){n.next=38;break}if(!Array.isArray(o.value)){n.next=31;break}return n.t2=a.push,n.t3=a,n.t4=t,n.next=26,Promise.all(o.value);case 26:n.t5=n.sent,n.t6=(0,n.t4)(n.t5),n.t2.apply.call(n.t2,n.t3,n.t6),n.next=36;break;case 31:return n.t7=a,n.next=34,o.value;case 34:n.t8=n.sent,n.t7.push.call(n.t7,n.t8);case 36:n.next=43;break;case 38:if("halt"!==o.type){n.next=42;break}return n.abrupt("break",45);case 42:return n.abrupt("continue",43);case 43:n.next=3;break;case 45:n.next=50;break;case 47:n.prev=47,n.t9=n.catch(1),e={error:n.t9};case 50:if(n.prev=50,n.prev=51,!s||s.done||!(r=u.return)){n.next=55;break}return n.next=55,r.call(u);case 55:if(n.prev=55,!e){n.next=58;break}throw e.error;case 58:return n.finish(55);case 59:return n.finish(50);case 60:return n.abrupt("return",a);case 61:case"end":return n.stop()}},n,this,[[1,47,50,60],[51,,55,59]])}))}},{key:"fold",value:function(e,r){var t,n;return p(this,void 0,void 0,regeneratorRuntime.mark(function a(){var u,s,i,o,c;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:u=e,a.prev=1,s=v(this.generator());case 3:return a.next=5,s.next();case 5:if((i=a.sent).done){a.next=44;break}return o=i.value,a.next=10,this.applyTransforms(o);case 10:if("value"!==(c=a.sent).type){a.next=22;break}return a.t0=r,a.next=15,c.value;case 15:return a.t1=a.sent,a.t2=u,a.next=19,(0,a.t0)(a.t1,a.t2);case 19:u=a.sent,a.next=42;break;case 22:if("flatten"!==c.type){a.next=37;break}if(!Array.isArray(c.value)){a.next=27;break}u=c.value.reduce(function(e,t){return r(e,t)},u),a.next=35;break;case 27:return a.t3=r,a.next=30,c.value;case 30:return a.t4=a.sent,a.t5=u,a.next=34,(0,a.t3)(a.t4,a.t5);case 34:u=a.sent;case 35:a.next=42;break;case 37:if("halt"!==c.type){a.next=41;break}return a.abrupt("return",u);case 41:return a.abrupt("continue",42);case 42:a.next=3;break;case 44:a.next=49;break;case 46:a.prev=46,a.t6=a.catch(1),t={error:a.t6};case 49:if(a.prev=49,a.prev=50,!i||i.done||!(n=s.return)){a.next=54;break}return a.next=54,n.call(s);case 54:if(a.prev=54,!t){a.next=57;break}throw t.error;case 57:return a.finish(54);case 58:return a.finish(49);case 59:return a.abrupt("return",u);case 60:case"end":return a.stop()}},a,this,[[1,46,49,59],[50,,54,58]])}))}},{key:"forEach",value:function(e){var r,t;return p(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a,u,s,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,a=v(this.generator());case 2:return n.next=4,a.next();case 4:if((u=n.sent).done){n.next=20;break}return s=u.value,n.next=9,this.applyTransforms(s);case 9:if("halt"!==(i=n.sent).type){n.next=12;break}return n.abrupt("return");case 12:if("value"!==i.type){n.next=18;break}return n.t0=e,n.next=16,i.value;case 16:n.t1=n.sent,(0,n.t0)(n.t1);case 18:n.next=2;break;case 20:n.next=25;break;case 22:n.prev=22,n.t2=n.catch(0),r={error:n.t2};case 25:if(n.prev=25,n.prev=26,!u||u.done||!(t=a.return)){n.next=30;break}return n.next=30,t.call(a);case 30:if(n.prev=30,!r){n.next=33;break}throw r.error;case 33:return n.finish(30);case 34:return n.finish(25);case 35:case"end":return n.stop()}},n,this,[[0,22,25,35],[26,,30,34]])}))}},{key:"applyTransforms",value:function(r){return p(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,a,u,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n={type:"value",value:r},a=e(this.transforms),t.prev=2,a.s();case 4:if((u=a.n()).done){t.next=15;break}if(s=u.value,"halt"!==n.type){t.next=8;break}return t.abrupt("return",n);case 8:if("skip"!==n.type){t.next=10;break}return t.abrupt("continue",13);case 10:return t.next=12,s(n);case 12:n=t.sent;case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),a.e(t.t0);case 20:return t.prev=20,a.f(),t.finish(20);case 23:return t.abrupt("return",n);case 24:case"end":return t.stop()}},t,this,[[2,17,20,23]])}))}},{key:Symbol.asyncIterator,value:function(){var e=this;return function(){return h(this,arguments,regeneratorRuntime.mark(function r(){var t,n,a,u,s,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,a=v(e.generator());case 2:return r.next=4,l(a.next());case 4:if((u=r.sent).done){r.next=21;break}return s=u.value,r.next=9,l(e.applyTransforms(s));case 9:if("halt"!==(i=r.sent).type){r.next=14;break}return r.next=13,l(void 0);case 13:return r.abrupt("return",r.sent);case 14:if("value"!==i.type){r.next=19;break}return r.next=17,l(i.value);case 17:return r.next=19,r.sent;case 19:r.next=2;break;case 21:r.next=26;break;case 23:r.prev=23,r.t0=r.catch(0),t={error:r.t0};case 26:if(r.prev=26,r.prev=27,!u||u.done||!(n=a.return)){r.next=31;break}return r.next=31,l(n.call(a));case 31:if(r.prev=31,!t){r.next=34;break}throw t.error;case 34:return r.finish(31);case 35:return r.finish(26);case 36:case"end":return r.stop()}},r,null,[[0,23,26,36],[27,,31,35]])}))}()}}]),n}();exports.AsyncStream=x;
},{"./index":"QCba"}],"bSxW":[function(require,module,exports) {
"use strict";function e(e){return n(e)||r(e)||u(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function n(e){if(Array.isArray(e))return o(e)}function a(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=u(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function u(e,t){if(e){if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&s(e.prototype,t),r&&s(e,r),e}var f=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(a,u){function o(e){try{s(n.next(e))}catch(t){u(t)}}function i(e){try{s(n.throw(e))}catch(t){u(t)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,i)}s((n=n.apply(e,t||[])).next())})},l=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,a){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,a,(t=e[r](t)).done,t.value)})}}},v=this&&this.__await||function(e){return this instanceof v?(this.v=e,this):new v(e)},p=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),u=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){u.push([e,t,r,n])>1||i(e,t)})})}function i(e,t){try{(r=a[e](t)).value instanceof v?Promise.resolve(r.value.v).then(s,c):f(u[0][2],r)}catch(n){f(u[0][3],n)}var r}function s(e){i("next",e)}function c(e){i("throw",e)}function f(e,t){e(t),u.shift(),u.length&&i(u[0][0],u[0][1])}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Stream=void 0;var y=require("./asyncStream"),h=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];i(this,t),this.transforms=[],this.generator=e,this.transforms=r}return c(t,[{key:"transform",value:function(e,r){var n=e;return new t(this.generator,this.transforms.concat(function(e){if("skip"===e.type)return e;var t=r(e.value,n);return t?(n=t[1],{type:"value",value:t[0]}):{type:"halt"}}))}},{key:"map",value:function(e){return new t(this.generator,this.transforms.concat(function(t){return"skip"===t.type?t:{type:"value",value:e(t.value)}}))}},{key:"filter",value:function(e){return new t(this.generator,this.transforms.concat(function(t){return"skip"===t.type?t:e(t.value)?t:{type:"skip"}}))}},{key:"flatMap",value:function(e){return new t(this.generator,this.transforms.concat(function(t){return"skip"===t.type?t:{type:"flatten",value:e(t.value)}}))}},{key:"take",value:function(e){var r=0;return new t(this.generator,this.transforms.concat(function(t){return"skip"===t.type?t:r===e?{type:"halt"}:(r++,{type:"value",value:t.value})}))}},{key:"takeUntil",value:function(e){return new t(this.generator,this.transforms.concat(function(t){return"skip"===t.type?t:e(t.value)?{type:"halt"}:t}))}},{key:"drop",value:function(e){var r=0;return new t(this.generator,this.transforms.concat(function(t){return"skip"===t.type?t:"value"===t.type&&r<e?(r++,{type:"skip"}):t}))}},{key:"flatten",value:function(){return new t(this.generator,this.transforms.concat(function(e){return"skip"===e.type?e:{type:"flatten",value:e.value}}))}},{key:"tap",value:function(e){return new t(this.generator,this.transforms.concat(function(t){return"value"===t.type&&e(t.value),t}))}},{key:"concat",value:function(e){var r=this;return new t(regeneratorRuntime.mark(function t(){var n,u,o,i,s,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a(r),t.prev=1,n.s();case 3:if((u=n.n()).done){t.next=9;break}return o=u.value,t.next=7,o;case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:i=a(e),t.prev=18,i.s();case 20:if((s=i.n()).done){t.next=26;break}return c=s.value,t.next=24,c;case 24:t.next=20;break;case 26:t.next=31;break;case 28:t.prev=28,t.t1=t.catch(18),i.e(t.t1);case 31:return t.prev=31,i.f(),t.finish(31);case 34:case"end":return t.stop()}},t,null,[[1,11,14,17],[18,28,31,34]])}))}},{key:"toArray",value:function(){var t,r=[],n=a(this.generator());try{for(n.s();!(t=n.n()).done;){var u=t.value,o=this.applyTransforms(u);if("value"===o.type)r.push(o.value);else{if("flatten"!==o.type){if("halt"===o.type)break;continue}Array.isArray(o.value)?r.push.apply(r,e(o.value)):r.push(o.value)}}}catch(i){n.e(i)}finally{n.f()}return r}},{key:"fold",value:function(e,t){var r,n=e,u=a(this.generator());try{for(u.s();!(r=u.n()).done;){var o=r.value,i=this.applyTransforms(o);if("value"===i.type)n=t(i.value,n);else{if("flatten"!==i.type){if("halt"===i.type)return n;continue}n=Array.isArray(i.value)?i.value.reduce(function(e,r){return t(e,r)},n):t(i.value,n)}}}catch(s){u.e(s)}finally{u.f()}return n}},{key:"forEach",value:function(e){var t,r=a(this.generator());try{for(r.s();!(t=r.n()).done;){var n=t.value,u=this.applyTransforms(n);if("halt"===u.type)return;"value"===u.type&&e(u.value)}}catch(o){r.e(o)}finally{r.f()}}},{key:"applyTransforms",value:function(e){var t,r={type:"value",value:e},n=a(this.transforms);try{for(n.s();!(t=n.n()).done;){var u=t.value;if("halt"===r.type)return r;"skip"!==r.type&&(r=u(r))}}catch(o){n.e(o)}finally{n.f()}return r}},{key:"mapAsync",value:function(e){var t=this,r=this;return new y.AsyncStream(function(){return p(this,arguments,regeneratorRuntime.mark(function e(){var t,n,a,u,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a=l(r);case 2:return e.next=4,v(a.next());case 4:if((u=e.sent).done){e.next=13;break}return o=u.value,e.next=9,v(o);case 9:return e.next=11,e.sent;case 11:e.next=2;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),t={error:e.t0};case 18:if(e.prev=18,e.prev=19,!u||u.done||!(n=a.return)){e.next=23;break}return e.next=23,v(n.call(a));case 23:if(e.prev=23,!t){e.next=26;break}throw t.error;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}},e,null,[[0,15,18,28],[19,,23,27]])}))},this.transforms.concat(function(r){return f(t,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("skip"!==r.type){t.next=2;break}return t.abrupt("return",r);case 2:return t.t0=e,t.next=5,r.value;case 5:return t.t1=t.sent,t.t2=(0,t.t0)(t.t1),t.abrupt("return",{type:"value",value:t.t2});case 8:case"end":return t.stop()}},t)}))}))}},{key:"filterAsync",value:function(e){var t=this;return new y.AsyncStream(function(){return p(this,arguments,regeneratorRuntime.mark(function e(){var r,n,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a(t),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=11;break}return u=n.value,e.next=7,v(u);case 7:return e.next=9,e.sent;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,13,16,19]])}))},this.transforms).filter(e)}},{key:"foldAsync",value:function(e,t){var r=this;return new y.AsyncStream(function(){return p(this,arguments,regeneratorRuntime.mark(function e(){var t,n,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a(r),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=11;break}return u=n.value,e.next=7,v(u);case 7:return e.next=9,e.sent;case 9:e.next=3;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[1,13,16,19]])}))},this.transforms).fold(e,t)}},{key:Symbol.iterator,value:function(){var e=this;return regeneratorRuntime.mark(function t(){var r,n,u,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=a(e.generator()),t.prev=1,r.s();case 3:if((n=r.n()).done){t.next=13;break}if(u=n.value,"halt"!==(o=e.applyTransforms(u)).type){t.next=8;break}return t.abrupt("return");case 8:if("value"!==o.type){t.next=11;break}return t.next=11,o.value;case 11:t.next=3;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),r.e(t.t0);case 18:return t.prev=18,r.f(),t.finish(18);case 21:case"end":return t.stop()}},t,null,[[1,15,18,21]])})()}}]),t}();exports.Stream=h;
},{"./asyncStream":"osVr"}],"QCba":[function(require,module,exports) {
"use strict";function e(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=r(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,s=!0,c=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return s=e.done,e},e:function(e){c=!0,u=e},f:function(){try{s||null==t.return||t.return()}finally{if(c)throw u}}}}function r(e,r){if(e){if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}var t=this&&this.__await||function(e){return this instanceof t?(this.v=e,this):new t(e)},a=this&&this.__asyncGenerator||function(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,o=n.apply(e,r||[]),u=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(e){o[e]&&(a[e]=function(r){return new Promise(function(n,t){u.push([e,r,n,t])>1||c(e,r)})})}function c(e,r){try{(n=o[e](r)).value instanceof t?Promise.resolve(n.value.v).then(i,f):x(u[0][2],n)}catch(a){x(u[0][3],a)}var n}function i(e){c("next",e)}function f(e){c("throw",e)}function x(e,r){e(r),u.shift(),u.length&&c(u[0][0],u[0][1])}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEvent=exports.iterateAsync=exports.unfoldAsync=exports.timer=exports.interval=exports.iterate=exports.unfold=exports.from=exports.fromArray=exports.of=void 0;var o=require("./asyncStream"),u=require("./stream");function s(e){return new u.Stream(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e;case 2:case"end":return r.stop()}},r)}))}function c(r){return new u.Stream(regeneratorRuntime.mark(function n(){var t,a,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=e(r),n.prev=1,t.s();case 3:if((a=t.n()).done){n.next=9;break}return o=a.value,n.next=7,o;case 7:n.next=3;break;case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),t.e(n.t0);case 14:return n.prev=14,t.f(),n.finish(14);case 17:case"end":return n.stop()}},n,null,[[1,11,14,17]])}))}function i(e){var r=e;return new u.Stream(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r++;case 3:e.next=0;break;case 5:case"end":return e.stop()}},e)}))}function f(e,r){var n=e;return new u.Stream(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(t=r(n))){e.next=4;break}return e.abrupt("return");case 4:return n=t[1],e.next=7,t[0];case 7:e.next=0;break;case 9:case"end":return e.stop()}},e)}))}function x(e,r){var n;return new u.Stream(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=7;break}return n=e,t.next=5,e;case 5:t.next=10;break;case 7:return n=r(n),t.next=10,n;case 10:t.next=0;break;case 12:case"end":return t.stop()}},t)}))}function m(e){var r=0;return new o.AsyncStream(function(){return a(this,arguments,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,t(h(e));case 3:return n.next=5,t(r++);case 5:return n.next=7,n.sent;case 7:n.next=0;break;case 9:case"end":return n.stop()}},n)}))})}function p(e){return new o.AsyncStream(function(){return a(this,arguments,regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t(h(e));case 2:return r.next=4,t(0);case 4:return r.next=6,r.sent;case 6:case"end":return r.stop()}},r)}))})}function v(e,r){var n=e;return new o.AsyncStream(function(){return a(this,arguments,regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t(r(n));case 3:if(void 0!==(a=e.sent)){e.next=8;break}return e.next=7,t(void 0);case 7:return e.abrupt("return",e.sent);case 8:return n=a[1],e.next=11,t(a[0]);case 11:return e.next=13,e.sent;case 13:e.next=0;break;case 15:case"end":return e.stop()}},e)}))})}function w(e,r){var n;return new o.AsyncStream(function(){return a(this,arguments,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(n){a.next=9;break}return n=e,a.next=5,t(e);case 5:return a.next=7,a.sent;case 7:a.next=16;break;case 9:return a.next=11,t(r(n));case 11:return n=a.sent,a.next=14,t(n);case 14:return a.next=16,a.sent;case 16:a.next=0;break;case 18:case"end":return a.stop()}},a)}))})}function l(e,r){return new o.AsyncStream(function(){return a(this,arguments,regeneratorRuntime.mark(function n(){var a,o,u,s,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a=void 0,o=new Promise(function(e){a=e}),(u=function(){o=new Promise(function(e){a=e})})(),s=function(e){a&&a(e)},e.addEventListener(r,s);case 6:if(!o){n.next=16;break}return n.next=10,t(o);case 10:return c=n.sent,n.next=13,t(c);case 13:return n.next=15,n.sent;case 15:u();case 16:n.next=6;break;case 18:case"end":return n.stop()}},n)}))})}function h(e){return new Promise(function(r){setTimeout(function(){r()},e)})}exports.of=s,exports.fromArray=c,exports.from=i,exports.unfold=f,exports.iterate=x,exports.interval=m,exports.timer=p,exports.unfoldAsync=v,exports.iterateAsync=w,exports.fromEvent=l;
},{"./asyncStream":"osVr","./stream":"bSxW"}]},{},["QCba"], null)
//# sourceMappingURL=/index.js.map